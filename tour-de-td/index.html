<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/x-icon" href="./assets/icon_run_red-FHtiz7MS.png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tour de TD</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <!-- <link rel="stylesheet" href="style.css" /> -->
  <style>
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&family=Bebas+Neue&family=Poppins:wght@400;500&display=swap');
    :root,
:host {
  --ol-background-color: white;
  --ol-accent-background-color: #F5F5F5;
  --ol-subtle-background-color: rgba(128, 128, 128, 0.25);
  --ol-partial-background-color: rgba(255, 255, 255, 0.75);
  --ol-foreground-color: #333333;
  --ol-subtle-foreground-color: #666666;
  --ol-brand-color: #00AAFF;
}
    .ol-box {
  box-sizing: border-box;
  border-radius: 2px;
  border: 1.5px solid var(--ol-background-color);
  background-color: var(--ol-partial-background-color);
}
    .ol-mouse-position {
  top: 8px;
  right: 8px;
  position: absolute;
}
    .ol-scale-line {
  background: var(--ol-partial-background-color);
  border-radius: 4px;
  bottom: 8px;
  left: 8px;
  padding: 2px;
  position: absolute;
}
    .ol-scale-line-inner {
  border: 1px solid var(--ol-subtle-foreground-color);
  border-top: none;
  color: var(--ol-foreground-color);
  font-size: 10px;
  text-align: center;
  margin: 1px;
  will-change: contents, width;
  transition: all 0.25s;
}
    .ol-scale-bar {
  position: absolute;
  bottom: 8px;
  left: 8px;
}
    .ol-scale-bar-inner {
  display: flex;
}
    .ol-scale-step-marker {
  width: 1px;
  height: 15px;
  background-color: var(--ol-foreground-color);
  float: right;
  z-index: 10;
}
    .ol-scale-step-text {
  position: absolute;
  bottom: -5px;
  font-size: 10px;
  z-index: 11;
  color: var(--ol-foreground-color);
  text-shadow: -1.5px 0 var(--ol-partial-background-color), 0 1.5px var(--ol-partial-background-color), 1.5px 0 var(--ol-partial-background-color), 0 -1.5px var(--ol-partial-background-color);
}
    .ol-scale-text {
  position: absolute;
  font-size: 12px;
  text-align: center;
  bottom: 25px;
  color: var(--ol-foreground-color);
  text-shadow: -1.5px 0 var(--ol-partial-background-color), 0 1.5px var(--ol-partial-background-color), 1.5px 0 var(--ol-partial-background-color), 0 -1.5px var(--ol-partial-background-color);
}
    .ol-scale-singlebar {
  position: relative;
  height: 10px;
  z-index: 9;
  box-sizing: border-box;
  border: 1px solid var(--ol-foreground-color);
}
    .ol-scale-singlebar-even {
  background-color: var(--ol-subtle-foreground-color);
}
    .ol-scale-singlebar-odd {
  background-color: var(--ol-background-color);
}
    .ol-unsupported {
  display: none;
}
    .ol-viewport,
.ol-unselectable {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}
    .ol-viewport canvas {
  all: unset;
  overflow: hidden;
}
    .ol-viewport {
  touch-action: pan-x pan-y;
}
    .ol-selectable {
  -webkit-touch-callout: default;
  -webkit-user-select: text;
  -moz-user-select: text;
  user-select: text;
}
    .ol-grabbing {
  cursor: -webkit-grabbing;
  cursor: -moz-grabbing;
  cursor: grabbing;
}
    .ol-grab {
  cursor: move;
  cursor: -webkit-grab;
  cursor: -moz-grab;
  cursor: grab;
}
    .ol-control {
  position: absolute;
  background-color: var(--ol-subtle-background-color);
  border-radius: 4px;
}
    .ol-zoom {
  top: .5em;
  left: .5em;
}
    .ol-rotate {
  top: .5em;
  right: .5em;
  transition: opacity .25s linear, visibility 0s linear;
}
    .ol-rotate.ol-hidden {
  opacity: 0;
  visibility: hidden;
  transition: opacity .25s linear, visibility 0s linear .25s;
}
    .ol-zoom-extent {
  top: 4.643em;
  left: .5em;
}
    .ol-full-screen {
  right: .5em;
  top: .5em;
}
    .ol-control button {
  display: block;
  margin: 1px;
  padding: 0;
  color: var(--ol-subtle-foreground-color);
  font-weight: bold;
  text-decoration: none;
  font-size: inherit;
  text-align: center;
  height: 1.375em;
  width: 1.375em;
  line-height: .4em;
  background-color: var(--ol-background-color);
  border: none;
  border-radius: 2px;
}
    .ol-control button::-moz-focus-inner {
  border: none;
  padding: 0;
}
    .ol-zoom-extent button {
  line-height: 1.4em;
}
    .ol-compass {
  display: block;
  font-weight: normal;
  will-change: transform;
}
    .ol-touch .ol-control button {
  font-size: 1.5em;
}
    .ol-touch .ol-zoom-extent {
  top: 5.5em;
}
    .ol-control button:hover,
.ol-control button:focus {
  text-decoration: none;
  outline: 1px solid var(--ol-subtle-foreground-color);
  color: var(--ol-foreground-color);
}
    .ol-zoom .ol-zoom-in {
  border-radius: 2px 2px 0 0;
}
    .ol-zoom .ol-zoom-out {
  border-radius: 0 0 2px 2px;
}
    .ol-attribution {
  text-align: right;
  bottom: .5em;
  right: .5em;
  max-width: calc(100% - 1.3em);
  display: flex;
  flex-flow: row-reverse;
  align-items: center;
}
    .ol-attribution a {
  color: var(--ol-subtle-foreground-color);
  text-decoration: none;
}
    .ol-attribution ul {
  margin: 0;
  padding: 1px .5em;
  color: var(--ol-foreground-color);
  text-shadow: 0 0 2px var(--ol-background-color);
  font-size: 12px;
}
    .ol-attribution li {
  display: inline;
  list-style: none;
}
    .ol-attribution li:not(:last-child):after {
  content: " ";
}
    .ol-attribution img {
  max-height: 2em;
  max-width: inherit;
  vertical-align: middle;
}
    .ol-attribution button {
  flex-shrink: 0;
}
    .ol-attribution.ol-collapsed ul {
  display: none;
}
    .ol-attribution:not(.ol-collapsed) {
  background: var(--ol-partial-background-color);
}
    .ol-attribution.ol-uncollapsible {
  bottom: 0;
  right: 0;
  border-radius: 4px 0 0;
}
    .ol-attribution.ol-uncollapsible img {
  margin-top: -.2em;
  max-height: 1.6em;
}
    .ol-attribution.ol-uncollapsible button {
  display: none;
}
    .ol-zoomslider {
  top: 4.5em;
  left: .5em;
  height: 200px;
}
    .ol-zoomslider button {
  position: relative;
  height: 10px;
}
    .ol-touch .ol-zoomslider {
  top: 5.5em;
}
    .ol-overviewmap {
  left: 0.5em;
  bottom: 0.5em;
}
    .ol-overviewmap.ol-uncollapsible {
  bottom: 0;
  left: 0;
  border-radius: 0 4px 0 0;
}
    .ol-overviewmap .ol-overviewmap-map,
.ol-overviewmap button {
  display: block;
}
    .ol-overviewmap .ol-overviewmap-map {
  border: 1px solid var(--ol-subtle-foreground-color);
  height: 150px;
  width: 150px;
}
    .ol-overviewmap:not(.ol-collapsed) button {
  bottom: 0;
  left: 0;
  position: absolute;
}
    .ol-overviewmap.ol-collapsed .ol-overviewmap-map,
.ol-overviewmap.ol-uncollapsible button {
  display: none;
}
    .ol-overviewmap:not(.ol-collapsed) {
  background: var(--ol-subtle-background-color);
}
    .ol-overviewmap-box {
  border: 1.5px dotted var(--ol-subtle-foreground-color);
}
    .ol-overviewmap .ol-overviewmap-box:hover {
  cursor: move;
}
    .ol-overviewmap .ol-viewport:hover {
  cursor: pointer;
}
    /* Import Google Fonts */
    #map {
      width: 100vw;
      height: 100vh;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      overflow: hidden; 
  }
    .ol-popup {
  position: absolute;
  background-color: white;
  -webkit-filter: drop-shadow(0 1px 4px rgba(0,0,0,0.2));
  filter: drop-shadow(0 1px 4px rgba(0,0,0,0.2));
  padding: 3px;
  border-radius: 3px;
  border: 1px solid #cccccc;
  bottom: 6px;
  left: -20px;
  margin-right: 2px;
  min-width: 50px;
  align-items: center;
  justify-content: center;
}
    .ol-popup:after {
  /* Arrow */
  content: '';
  position: absolute;
  top: 100%;
  left: 48px;
  margin-left: -4px;
  width: 0; height: 0;
  border-left: 10px solid transparent;
  border-right: 10px solid transparent;
  border-top: 10px solid #cccccc;
}
    .ol-popup-closer {
  text-decoration: none;
  position: absolute;
  top: 2px;
  right: 8px;
  /* font-weight: bold; */
  color: #66666600;
}
    .ol-popup-content {
  font-style: italic; 
  color: rgb(171, 15, 15);
  align-items: center;
  justify-content: center;
}
    .text {
      margin: 0 auto;
      font-size: 1.5em;
      font-family: sans-serif;
    }
    .row {
      height: 100%;
      /* display: flex; */
      align-items: center;
      justify-content: center;
      /* border: 1px solid #ccc; */
      font-family: sans-serif;
    }
    .row:first-child {
  /* background-color: #d1e7dd; */
  margin-bottom: 2%;
}
    .row:last-child {
  /* background-color: #f8d7da; */
  margin-top: 1%;

}
    .parent {
  /* border: 1px solid black;
  margin: 1rem;
  padding: 2rem 2rem; */
  text-align: left;
}
    .child {
  display: inline-block;
  /* border: 1px solid red;
  padding: 1rem 1rem; */
  vertical-align: left;
  text-align: left;
}
    .progress-container {
      background-color: #eee;
      border-radius: 20px;
      overflow: hidden;
      height: 20px;
      margin-bottom: 8px;
    }
    .progress-bar {
      background-color: black;
      color: white;
      font-style: italic;
      font-size: small;
      height: 100%;
      width: 0%;
      text-align: center;
      line-height: 20px;
      transition: width 0.5s ease;
    }
    .info {
      font-style: italic;
      color: black;
      font-size: small;
      text-align: center;
    }
    .ol-popup {
    position: absolute;
    background-color: white;
    box-shadow: 0 1px 4px rgba(0,0,0,0.2);
    padding: 15px;
    border-radius: 10px;
    border: 1px solid #cccccc;
    bottom: 12px;
    left: -50px;
    min-width: 280px;
  }
    .ol-popup:after, .ol-popup:before {
    top: 100%;
    border: solid transparent;
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
  }
    .ol-popup:after {
    border-top-color: white;
    border-width: 10px;
    left: 48px;
    margin-left: -10px;
  }
    .ol-popup:before {
    border-top-color: #cccccc;
    border-width: 11px;
    left: 48px;
    margin-left: -11px;
  }
    .ol-popup-closer {
    text-decoration: none;
    position: absolute;
    top: 2px;
    right: 8px;
  }
    .ol-popup-closer:after {
    content: "‚úñ";
  }
    * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
    html, body {
  height: 100%;
  width: 100%;
  font-family: sans-serif
}
    .main-container {
  position: relative;
  width: 100%;
  height: 100%;
  /* width: 100vw;   */
  /* height: 100vh; */
  background-color: #f0f0f06e;
}
    .top-center {
  position: absolute;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  background-color: #e82106;
  width: 14%;
  /* color: white; */
  padding: 8px 10px;
  border-radius: 5px;
  transition: box-shadow .3s;
  /* border: 4px solid #ccc; */
}
    .top-center:hover {
  background-color: #ebbcc1;
  box-shadow: 0 0 14px rgba(33,33,33,.2); 
}
    .top-left, .top-right {
  position: absolute;
  top: 80px;
  width: auto;
  height: auto;
  padding: 10px 20px;
  background-color: rgba(255, 255, 255, 0.129);
  /* color: white; */
  border-radius: 4px;
}
    .top-left {
  left: 2px;
  
}
    .top-right {
  right: 20px;
 
  /* background-color: white; */
}
    .corner-div {
  position: fixed;
  bottom: 100px;         /* 20px below the top */
  left: -10px;       /* Sticks out from the left edge */
  width: 130px;
  height: auto;
  background-color: red;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  box-shadow: 2px 0 5px rgba(0,0,0,0.2);
  border-radius: 8px;
  padding: 10px;
  font-size: 10px;
  /* font-family:'Bebas Neue', sans-serif; */
  font-family: 'Montserrat', sans-serif;
  line-height: 1.3;
  transition: all 0.3s ease;
  cursor: pointer;
}
    .corner-div:hover {
  background-color: #ebbcc1;
  box-shadow: -2px 0 10px rgba(0,0,0,0.3);
}
    .corner-div-left-side {
  /* position: relative; */
    /*top: 80px;         20px below the top */
  left: 30px;       /* Sticks out from the left edge */
  width: auto;
  height: auto;
  background-color: red;
  color: white;
  display: flex;
  align-items: left;
  justify-content: left;
  text-align: center;
  box-shadow: 2px 0 5px rgba(0,0,0,0.2);
  border-radius: 8px;
  padding: 8px;
  font-size: 14px;
  font-family:'Bebas Neue', sans-serif;
  line-height: 1.3;
  transition: all 0.3s ease;
  cursor: pointer;
}
    .corner-div-left-side-sub {
  left: 30px;       /* Sticks out from the left edge */
  width: auto; 
  height: auto;
  background-color: red;
  font-family:'Bebas Neue', sans-serif;
  color: white;
  text-align: left;
  box-shadow: 2px 0 5px rgba(0,0,0,0.2);
  border-radius: 8px;
  
  list-style-type: disc; /* This shows bullet points */
  padding-left: 20px;    /* Adds space so bullets are visible */

}
    .corner-div-left-side:hover {
    background-color: #ebbcc1;
    box-shadow: -2px 0 10px rgba(0,0,0,0.3);
  }
    .bottom-center-box {
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  width: 60%;
  background-color: red; /* üî¥ Red background */
  padding: 4px 2px;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
  text-align: center;
  color: white; /* Optional: makes text readable on red */
  font-family:'Bebas Neue', sans-serif;
}
    .visible {
  height: 3em;
  width: 10em;
  background: yellow;
}
    /* Snow container centered inside map */
    .snow-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    width: 100%; 
    height: 100%;
    /* padding: 20px;
    background: rgba(230, 87, 82, 0.805); /* Semi-transparent background for text */
    /*border-radius: 10px; */
    z-index: 10;
    overflow: hidden; /* Confetti stays inside */
}
    .snow-textbox {
  width: 40%;
   padding: 20px;
  background: rgba(230, 87, 82, 0.805); /* Semi-transparent background for text */
  border-radius: 10px;
}
    .snow-textbox:hover {
  background-color: #ebbcc1;
  box-shadow: -2px 0 10px rgba(0,0,0,0.3);
}
    .snow-container div {
    font-size: 1.5rem;
    color: white;
}
    /* Snowflake style */
    .snowflake {
    position: absolute;
    top: -10px;
    color: #fff;
    font-size: 1em;
    opacity: 0.8;
    animation: fall linear infinite;
}

  
  </style>

  <!-- <script type="text/javascript" src="https://cdn.canvasjs.com/canvasjs.min.js"></script> -->
  <style>
    @keyframes fall {
        to {
            transform: translateY(100vh);
        }
    }

    /* Mobile */
    @media (max-width: 768px) {
      .image-wrap {
        width: 100%;         /* make the div fill the container on mobile */
        /* optionally limit how big it can get */
        max-width: 100%;
        padding: 0 16px;     /* optional breathing room inside the container */
        box-sizing: border-box;
      }
      .top-center {
        width: 24%;
      }
    }
  </style>
  <script type="module" crossorigin src="./assets/index-B7g3zdQa.js"></script>
</head>
<body>
  <div class="main-container">
    <div id="map">
      <div id="snow-base">
      </div>
    </div>
    <div id="popup" class="ol-popup">
      <a href="#" id="popup-closer" class="ol-popup-closer"></a>
      <div id="popup-content" class="ol-popup-content"></div>
    </div>
    <div id="tdtdbuttondiv" >
      <img src="./assets/td_a5-S0lbSr6B.png" class="top-center" style=" max-width: 140%; height: auto;  object-fit: cover;" alt="Italian Trulli" />      
    </div>
    <div id="td_info_div" class="corner-div">
      Vad √§r Tour de TD?
    </div>

    <div class="top-left" style="font-style: oblique; color: rgb(167, 163, 163); font-size: medium">
      
    <div class="row">
      </div>
      <div id="td_stat_button_div" class="row corner-div-left-side" style="font-family: 'Montserrat', sans-serif;" class="visible">IDAG</div>
      <div id='today_stat'>
        <div id="numberOfActivitesParent" class="row corner-div-left-side" style="background-color: rgb(242, 143, 153)"  >
          <h7 style="font-style: italic; color: black; font-size: small;"><span style="margin-right: 2px;">Antal aktiviteter: </span> </h7>
          <div id="numberOfActivitesTodayDiv" style="font-family: 'Bebas Neue', sans-serif;">
            &nbsp;0
          </div>
        </div>
        <div id="numberOfActivitesDetailsDiv" class="corner-div-left-side-sub" style="background-color: rgb(242, 143, 153)" hidden="true">  
          </div>
        <p></p>
        <div id="sumOfKmParent" class="row corner-div-left-side" style="background-color: rgb(242, 143, 153)">
          <h7 style="font-style: italic; color: black; font-size: small"><span style="margin-right: 2px;">Total str√§cka (km): </span> </h7>
          <div id="sumTotalLengthTodayKmDiv" >
            &nbsp;0
          </div>
        </div>
        <div id="sumOfKmDetailsDiv" class="corner-div-left-side-sub" style="background-color: rgb(242, 143, 153)" hidden="true">  
        </div>
      </div>

      <div id="total_stat" hidden>
        <div id="numberOfActivitesInTotalParent" class="row corner-div-left-side" >
          <h7 style="font-style: italic; color: black; font-size: small;"><span style="margin-right: 2px;">Antal aktiviteter: </span></h7>
          <div id="numberOfActivitesDiv">
            &nbsp;0
          </div>
        </div>

        <p></p>
        <div id="sumOfKmInTotalParent" class="row corner-div-left-side">
          <h7 style="font-style: italic; color: black; font-size: small"><span style="margin-right: 2px;">Total str√§cka (km): </span></h7>
          <div id="sumTotalLengthKmDiv">
            &nbsp;0
          </div>
        </div>
        <p></p>
        <div class="row corner-div-left-side">
          <h7 style="font-style: italic; color: black; font-size: small"><span style="margin-right: 2px;">Etapp:</span> </h7>
          <div id="etappNrDiv">
            &nbsp;
          </div>
        </div>
      </div>

    </div>

    <div id="statistics_div" hidden="true" class="top-right"
      style="color: rgb(167, 163, 163); font-size: medium;font-family: 'Montserrat', sans-serif;">

      <div class="row">
        <div></div>
        <span style="font-style: italic; color: black; font-size: small;font-family: 'Bebas Neue', sans-serif;" id="status">&nbsp;</span>
      </div>
     
      <div class="row">
        <div id="chartParent">
          <div id="chartContainerAmounthPerSport" style="height: 100%; width: 80%"></div>
        </div>
      </div>

    </div>

    <div class="bottom-center-box">
      <h7 style="color: white; font-size: small;font-family: 'Montserrat', sans-serif;">Avverkad str√§cka</h7>
      <div class="progress-container" style="font-style: italic; color: black">
        <div class="progress-bar" id="progressBar" style="font-style: italic; color: white;font-size: small">0%</div>
      </div>
      <div class="info" id="progressInfo" style="color: white; font-size: x-small; font-family: 'Poppins', sans-serif;">
        0 km av 100 km
      </div>
    </div>

  </div>
  <!-- <script type="module" src="./map_styling.js"></script>
  <script type="module" src="./map_utils.js"></script>
  <script type="module" src="./activties.js"></script> -->
</body>
</html>